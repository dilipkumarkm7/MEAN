import{$ as b,B as f,E as c,G as o,H as n,I as C,J as h,K as I,L as a,M as E,N as i,O as y,P as s,U as S,aa as w,ca as M,ka as D,la as P,m as x,n as u,o as g,p as v,u as l,w as p,x as _}from"./chunk-OG767PF3.js";function T(t,r){if(t&1){let e=h();o(0,"div")(1,"p",5)(2,"strong"),i(3,"Username:"),n(),i(4),n(),o(5,"p",5)(6,"strong"),i(7,"Email:"),n(),i(8),n(),o(9,"p",5)(10,"strong"),i(11,"User ID:"),n(),i(12),n(),o(13,"button",6),g(),o(14,"svg",7),C(15,"path",8),n(),v(),o(16,"div",9),I("click",function(){x(e);let m=a();return u(m.navigate())}),i(17,"Logout"),n()()()}if(t&2){let e=a();l(4),s(" ",e.userData.username,""),l(4),s(" ",e.userData.email,""),l(4),s(" ",e.userData._id,"")}}function O(t,r){if(t&1&&(o(0,"p",12),i(1),n()),t&2){let e=a(2);l(),y(e.errorMessage)}}function j(t,r){t&1&&(o(0,"p",13),i(1,"Loading profile..."),n())}function H(t,r){if(t&1&&f(0,O,2,1,"p",10)(1,j,2,0,"p",11),t&2){let e=a();c("ngIf",e.errorMessage),l(),c("ngIf",!e.errorMessage)}}var L=class t{constructor(r,e){this.authService=r;this.http=e}userData=null;errorMessage="";ngOnInit(){this.http.get(D.apiUrl+"/api/profile").subscribe({next:r=>{this.userData=r.user},error:r=>{console.log("Failed to fetch profile",r),this.errorMessage="Could not load profile"}})}navigate(){this.authService.logout()}static \u0275fac=function(e){return new(e||t)(p(P),p(M))};static \u0275cmp=_({type:t,selectors:[["app-profile"]],decls:7,vars:2,consts:[["loadingOrError",""],[1,"flex","justify-center","items-center","h-screen"],[1,"w-1/4","p-6","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-semibold","mb-6","text-center"],[4,"ngIf","ngIfElse"],[1,"text-gray-700","mb-4"],[1,"w-full","flex","items-center","justify-center","px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["viewBox","0 0 512 512",1,"w-6","h-6","mr-2"],["d","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"],[1,"text",3,"click"],["class","text-red-500 text-center",4,"ngIf"],["class","text-center text-gray-500",4,"ngIf"],[1,"text-red-500","text-center"],[1,"text-center","text-gray-500"]],template:function(e,d){if(e&1&&(o(0,"div",1)(1,"div",2)(2,"h2",3),i(3,"Profile"),n(),f(4,T,18,3,"div",4)(5,H,2,2,"ng-template",null,0,S),n()()),e&2){let m=E(6);l(4),c("ngIf",d.userData)("ngIfElse",m)}},dependencies:[w,b],encapsulation:2})};export{L as ProfileComponent};
