import{a as W,b as j,c as B,d as G,e as q,f as Z,g as U,h as J}from"./chunk-YZE75GMK.js";import{$ as _,B as f,E as g,G as n,H as i,I as d,J as D,K as h,L as C,N as a,O as T,Q as y,R as I,S as A,V as R,aa as x,ba as N,da as z,ea as V,fa as F,ga as v,ha as M,ia as H,ja as b,k as s,la as l,m as k,n as E,o as S,p as L,u as p,w as O,x as u}from"./chunk-4ILPHBT3.js";function ot(t,r){if(t&1&&(n(0,"p",14),a(1),i()),t&2){let o=C();p(),T(o.errorMessage)}}var P=class t{constructor(r,o){this.authservice=r;this.router=o}loginData={email:"",password:""};errorMessage="";onLogin(){this.errorMessage="";let{email:r,password:o}=this.loginData;this.authservice.login(r,o).subscribe({next:e=>{let m=e.token;localStorage.setItem("token",m),this.router.navigate(["/profile"])},error:e=>{this.errorMessage=e.errors?.message||"Login failed. Please try again later"}})}static \u0275fac=function(o){return new(o||t)(O(l),O(v))};static \u0275cmp=u({type:t,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"auth-container"],[3,"submit"],["for","email"],["type","email","placeholder","Enter your email","required","required","name","email","id","email",3,"ngModelChange","ngModel"],["for","password"],["type","password","placeholder","Enter your password","required","required","name","password","id","password",3,"ngModelChange","ngModel"],["type","submit",1,"animated-button"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"arr-2"],["d","M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"],[1,"text"],[1,"circle"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"arr-1"],["class","error",4,"ngIf"],["routerLink","/signup"],[1,"error"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"h2"),a(2,"Login"),i(),n(3,"form",1),h("submit",function(){return e.onLogin()}),n(4,"div")(5,"label",2),a(6,"Email:"),i(),n(7,"input",3),A("ngModelChange",function(c){return I(e.loginData.email,c)||(e.loginData.email=c),c}),i()(),n(8,"div")(9,"label",4),a(10,"Password:"),i(),n(11,"input",5),A("ngModelChange",function(c){return I(e.loginData.password,c)||(e.loginData.password=c),c}),i()(),n(12,"button",6),S(),n(13,"svg",7),d(14,"path",8),i(),L(),n(15,"span",9),a(16,"Login"),i(),d(17,"span",10),S(),n(18,"svg",11),d(19,"path",8),i()()(),f(20,ot,2,1,"p",12),L(),n(21,"p"),a(22,"Don't have an account? "),n(23,"a",13),a(24,"Sign up here"),i()()()),o&2&&(p(7),y("ngModel",e.loginData.email),p(4),y("ngModel",e.loginData.password),p(9),g("ngIf",e.errorMessage))},dependencies:[J,Z,W,j,B,U,q,G,b,M,x,_],styles:[".auth-container[_ngcontent-%COMP%]{max-width:300px;margin:50px auto;padding:20px;border:1px solid #ccc;border-radius:5px}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.auth-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.auth-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.auth-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;margin-top:10px;text-align:center}.animated-button[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:4px;padding:8px 30px;border:4px solid;border-color:transparent;font-size:16px;background-color:inherit;border-radius:100px;font-weight:600;color:#adff2f;box-shadow:0 0 0 2px #adff2f;cursor:pointer;overflow:hidden;transition:all .6s cubic-bezier(.23,1,.32,1)}.animated-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:24px;fill:#adff2f;z-index:9;transition:all .8s cubic-bezier(.23,1,.32,1)}.animated-button[_ngcontent-%COMP%]   .arr-1[_ngcontent-%COMP%]{right:16px}.animated-button[_ngcontent-%COMP%]   .arr-2[_ngcontent-%COMP%]{left:-25%}.animated-button[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;background-color:#adff2f;border-radius:50%;opacity:0;transition:all .8s cubic-bezier(.23,1,.32,1)}.animated-button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;z-index:1;transform:translate(-12px);transition:all .8s cubic-bezier(.23,1,.32,1)}.animated-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 12px transparent;color:#212121;border-radius:12px}.animated-button[_ngcontent-%COMP%]:hover   .arr-1[_ngcontent-%COMP%]{right:-25%}.animated-button[_ngcontent-%COMP%]:hover   .arr-2[_ngcontent-%COMP%]{left:16px}.animated-button[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{transform:translate(12px)}.animated-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#212121}.animated-button[_ngcontent-%COMP%]:active{scale:.95;box-shadow:0 0 0 4px #adff2f}.animated-button[_ngcontent-%COMP%]:hover   .circle[_ngcontent-%COMP%]{width:220px;height:220px;opacity:1}"]})};var K=(t,r)=>{let o=s(l),e=s(v);return o.isLoggedIn()?!0:(e.navigate(["/login"]),!1)};var Q=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:P},{path:"signup",loadComponent:()=>import("./chunk-IWILGVUO.js").then(t=>t.SignupComponent)},{path:"profile",loadComponent:()=>import("./chunk-HKLZSNSE.js").then(t=>t.ProfileComponent),canActivate:[K]},{path:"**",redirectTo:"login"}];var X=(t,r)=>{let e=s(l).getToken();if(e){let m=t.clone({headers:t.headers.set("Authorization","Bearer "+e)});return r(m)}return r(t)};var Y={providers:[R({eventCoalescing:!0}),H(Q),z(V([X]))]};function it(t,r){t&1&&(n(0,"a",4),a(1,"Login"),i())}function rt(t,r){t&1&&(n(0,"a",5),a(1,"SignUp"),i())}function at(t,r){t&1&&(n(0,"a",6),a(1,"Profile"),i())}function pt(t,r){if(t&1){let o=D();n(0,"a",7),h("click",function(){k(o);let m=C();return E(m.authService.logout())}),a(1,"Logout"),i()}}var w=class t{authService=s(l);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:6,vars:4,consts:[["routerLink","/login",4,"ngIf"],["routerLink","/signup",4,"ngIf"],["routerLink","/profile",4,"ngIf"],[3,"click",4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],["routerLink","/profile"],[3,"click"]],template:function(o,e){o&1&&(n(0,"nav"),f(1,it,2,0,"a",0)(2,rt,2,0,"a",1)(3,at,2,0,"a",2)(4,pt,2,0,"a",3),i(),d(5,"router-outlet")),o&2&&(p(),g("ngIf",!e.authService.isLoggedIn()),p(),g("ngIf",!e.authService.isLoggedIn()),p(),g("ngIf",e.authService.isLoggedIn()),p(),g("ngIf",e.authService.isLoggedIn()))},dependencies:[F,b,M,x,_],styles:["nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;color:#00f;cursor:pointer;text-decoration:none}"]})};N(w,Y).catch(t=>console.error(t));
