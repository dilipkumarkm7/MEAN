import{$ as w,B as m,E as c,G as o,H as n,I as v,J as h,K as M,L as l,M as P,N as r,O,P as d,U as I,aa as y,ca as E,ka as b,la as S,m as g,n as x,o as u,p as _,u as a,w as s,x as C}from"./chunk-4ILPHBT3.js";function L(e,i){if(e&1){let t=h();o(0,"div")(1,"p")(2,"strong"),r(3,"Email:"),n(),r(4),n(),o(5,"p")(6,"strong"),r(7,"User ID:"),n(),r(8),n(),o(9,"button",3)(10,"div",4),u(),o(11,"svg",5),v(12,"path",6),n()(),_(),o(13,"div",7),M("click",function(){g(t);let p=l();return x(p.onLogout())}),r(14,"Logout"),n()()()}if(e&2){let t=l();a(4),d(" ",t.userData.email,""),a(4),d(" ",t.userData._id,"")}}function B(e,i){if(e&1&&(o(0,"p"),r(1),n()),e&2){let t=l(2);a(),O(t.errorMessage)}}function T(e,i){e&1&&(o(0,"p"),r(1,"Loading profile..."),n())}function j(e,i){if(e&1&&m(0,B,2,1,"p",8)(1,T,2,0,"p",8),e&2){let t=l();c("ngIf",t.errorMessage),a(),c("ngIf",!t.errorMessage)}}var D=class e{constructor(i,t){this.authService=i;this.http=t}userData=null;errorMessage="";ngOnInit(){this.http.get(b.apiUrl+"/api/profile").subscribe({next:i=>{this.userData=i.user},error:i=>{console.log("Failed to fetch profile",i),this.errorMessage="Could not load profile"}})}onLogout(){this.authService.logout()}static \u0275fac=function(t){return new(t||e)(s(S),s(E))};static \u0275cmp=C({type:e,selectors:[["app-profile"]],decls:6,vars:2,consts:[["loadingOrError",""],[1,"profile-container"],[4,"ngIf","ngIfElse"],[1,"Btn"],[1,"sign"],["viewBox","0 0 512 512"],["d","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"],[1,"text",3,"click"],[4,"ngIf"]],template:function(t,f){if(t&1&&(o(0,"div",1)(1,"h2"),r(2,"Profile"),n(),m(3,L,15,2,"div",2)(4,j,2,2,"ng-template",null,0,I),n()),t&2){let p=P(5);a(3),c("ngIf",f.userData)("ngIfElse",p)}},dependencies:[y,w],styles:[".profile-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;text-align:left;border:1px solid #ccc;border-radius:5px;padding:20px}.profile-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.profile-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}.Btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:45px;height:45px;border:none;border-radius:50%;cursor:pointer;position:relative;overflow:hidden;transition-duration:.3s;box-shadow:2px 2px 10px #0003;background-color:#ff4141}.sign[_ngcontent-%COMP%]{width:100%;transition-duration:.3s;display:flex;align-items:center;justify-content:center}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.text[_ngcontent-%COMP%]{position:absolute;right:0%;width:0%;opacity:0;color:#fff;font-size:1.2em;font-weight:600;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover{width:125px;border-radius:40px;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover   .sign[_ngcontent-%COMP%]{width:auto;transition-duration:.3s;padding-left:20px}.Btn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1;width:70%;transition-duration:.3s;padding-right:10px}.Btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px)}"]})};export{D as ProfileComponent};
