import{$ as S,B as f,E as m,G as r,H as i,I as C,J as h,K as I,L as a,M as E,N as o,O as y,P as d,U as b,aa as M,ca as w,ga as P,ja as D,ka as L,la as T,m as u,n as x,o as g,p as v,u as l,w as c,x as _}from"./chunk-4ILPHBT3.js";function O(t,n){if(t&1){let e=h();r(0,"div")(1,"p",5)(2,"strong"),o(3,"Email:"),i(),o(4),i(),r(5,"p",5)(6,"strong"),o(7,"User ID:"),i(),o(8),i(),r(9,"button",6),g(),r(10,"svg",7),C(11,"path",8),i(),v(),r(12,"div",9),I("click",function(){u(e);let s=a();return x(s.navigate())}),o(13,"Logout"),i()()()}if(t&2){let e=a();l(4),d(" ",e.userData.email,""),l(4),d(" ",e.userData._id,"")}}function R(t,n){if(t&1&&(r(0,"p",12),o(1),i()),t&2){let e=a(2);l(),y(e.errorMessage)}}function H(t,n){t&1&&(r(0,"p",13),o(1,"Loading profile..."),i())}function V(t,n){if(t&1&&f(0,R,2,1,"p",10)(1,H,2,0,"p",11),t&2){let e=a();m("ngIf",e.errorMessage),l(),m("ngIf",!e.errorMessage)}}var j=class t{constructor(n,e,p){this.authService=n;this.http=e;this.router=p}userData=null;errorMessage="";ngOnInit(){this.http.get(L.apiUrl+"/api/profile").subscribe({next:n=>{this.userData=n.user},error:n=>{console.log("Failed to fetch profile",n),this.errorMessage="Could not load profile"}})}navigate(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(c(T),c(w),c(P))};static \u0275cmp=_({type:t,selectors:[["app-profile"]],decls:7,vars:2,consts:[["loadingOrError",""],[1,"flex","justify-center","items-center","h-screen"],[1,"max-w-lg","mx-auto","p-6","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-semibold","mb-6","text-center"],[4,"ngIf","ngIfElse"],[1,"text-gray-700","mb-4"],[1,"w-full","flex","items-center","justify-center","px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["viewBox","0 0 512 512",1,"w-6","h-6","mr-2"],["d","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"],[1,"text",3,"click"],["class","text-red-500 text-center",4,"ngIf"],["class","text-center text-gray-500",4,"ngIf"],[1,"text-red-500","text-center"],[1,"text-center","text-gray-500"]],template:function(e,p){if(e&1&&(r(0,"div",1)(1,"div",2)(2,"h2",3),o(3,"Profile"),i(),f(4,O,14,2,"div",4)(5,V,2,2,"ng-template",null,0,b),i()()),e&2){let s=E(6);l(4),m("ngIf",p.userData)("ngIfElse",s)}},dependencies:[M,S,D],encapsulation:2})};export{j as ProfileComponent};
