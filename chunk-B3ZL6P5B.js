import{a as L,b as D,c as E,d as N,e as I,f as k,g as R,h as W}from"./chunk-YZE75GMK.js";import{$ as w,B as f,E as x,G as t,H as n,K as h,L as y,N as i,O as b,Q as d,R as g,S as p,aa as v,ga as M,ha as C,ja as S,la as _,u as s,w as u,x as c}from"./chunk-4ILPHBT3.js";function P(a,l){if(a&1&&(t(0,"p",12),i(1),n()),a&2){let o=y();s(),b(o.errorMessage)}}var q=class a{constructor(l,o){this.authservice=l;this.router=o}loginData={email:"",password:""};errorMessage="";onLogin(){this.errorMessage="";let{email:l,password:o}=this.loginData;this.authservice.login(l,o).subscribe({next:e=>{let m=e.token;localStorage.setItem("token",m),this.router.navigate(["/profile"])},error:e=>{this.errorMessage=e.errors?.message||"Login failed. Please try again later"}})}static \u0275fac=function(o){return new(o||a)(u(_),u(M))};static \u0275cmp=c({type:a,selectors:[["app-login"]],decls:20,vars:3,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"auth-container","max-w-md","mx-auto","p-6","bg-white","rounded-lg","shadow-lg","m-auto"],[1,"text-2xl","font-semibold","mb-6","text-center"],[1,"space-y-4",3,"submit"],["for","email",1,"block","text-gray-700","text-sm","font-medium"],["type","email","placeholder","Enter your email","required","required","name","email","id","email",1,"w-full","px-4","py-2","mt-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","text-gray-700","text-sm","font-medium"],["type","password","placeholder","Enter your password","required","required","name","password","id","password",1,"w-full","px-4","py-2","mt-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","flex","items-center","justify-center","px-6","py-3","mt-4","bg-green-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","relative","group"],["class","error text-red-500 text-center mt-4",4,"ngIf"],[1,"text-center","mt-4","text-sm","text-gray-600"],["routerLink","/signup",1,"text-blue-600","hover:underline"],[1,"error","text-red-500","text-center","mt-4"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),i(3,"Login"),n(),t(4,"form",3),h("submit",function(){return e.onLogin()}),t(5,"div")(6,"label",4),i(7,"Email:"),n(),t(8,"input",5),p("ngModelChange",function(r){return g(e.loginData.email,r)||(e.loginData.email=r),r}),n()(),t(9,"div")(10,"label",6),i(11,"Password:"),n(),t(12,"input",7),p("ngModelChange",function(r){return g(e.loginData.password,r)||(e.loginData.password=r),r}),n()(),t(13,"button",8),i(14,"Login "),n()(),f(15,P,2,1,"p",9),t(16,"p",10),i(17,"Don't have an account? "),t(18,"a",11),i(19,"Sign up here"),n()()()()),o&2&&(s(8),d("ngModel",e.loginData.email),s(4),d("ngModel",e.loginData.password),s(3),x("ngIf",e.errorMessage))},dependencies:[W,k,L,D,E,R,I,N,S,C,v,w],encapsulation:2})};export{q as LoginComponent};
